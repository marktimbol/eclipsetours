{"version":3,"sources":["hero-slider.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"hero-slider.js","sourcesContent":["jQuery(document).ready(function($){\r\n\tvar slidesWrapper = $('.cd-hero-slider');\r\n\r\n\t//check if a .cd-hero-slider exists in the DOM \r\n\tif ( slidesWrapper.length > 0 ) {\r\n\t\tvar primaryNav = $('.cd-primary-nav'),\r\n\t\t\tsliderNav = $('.cd-slider-nav'),\r\n\t\t\tnavigationMarker = $('.cd-marker'),\r\n\t\t\tslidesNumber = slidesWrapper.children('li').length,\r\n\t\t\tvisibleSlidePosition = 0,\r\n\t\t\tautoPlayId,\r\n\t\t\tautoPlayDelay = 5000;\r\n\r\n\t\t//upload videos (if not on mobile devices)\r\n\t\tuploadVideo(slidesWrapper);\r\n\r\n\t\t//autoplay slider\r\n\t\tsetAutoplay(slidesWrapper, slidesNumber, autoPlayDelay);\r\n\r\n\t\t//on mobile - open/close primary navigation clicking/tapping the menu icon\r\n\t\tprimaryNav.on('click', function(event){\r\n\t\t\tif($(event.target).is('.cd-primary-nav')) $(this).children('ul').toggleClass('is-visible');\r\n\t\t});\r\n\t\t\r\n\t\t//change visible slide\r\n\t\tsliderNav.on('click', 'li', function(event){\r\n\t\t\tevent.preventDefault();\r\n\t\t\tvar selectedItem = $(this);\r\n\t\t\tif(!selectedItem.hasClass('selected')) {\r\n\t\t\t\t// if it's not already selected\r\n\t\t\t\tvar selectedPosition = selectedItem.index(),\r\n\t\t\t\t\tactivePosition = slidesWrapper.find('li.selected').index();\r\n\t\t\t\t\r\n\t\t\t\tif( activePosition < selectedPosition) {\r\n\t\t\t\t\tnextSlide(slidesWrapper.find('.selected'), slidesWrapper, sliderNav, selectedPosition);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tprevSlide(slidesWrapper.find('.selected'), slidesWrapper, sliderNav, selectedPosition);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//this is used for the autoplay\r\n\t\t\t\tvisibleSlidePosition = selectedPosition;\r\n\r\n\t\t\t\tupdateSliderNavigation(sliderNav, selectedPosition);\r\n\t\t\t\tupdateNavigationMarker(navigationMarker, selectedPosition+1);\r\n\t\t\t\t//reset autoplay\r\n\t\t\t\tsetAutoplay(slidesWrapper, slidesNumber, autoPlayDelay);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tfunction nextSlide(visibleSlide, container, pagination, n){\r\n\t\tvisibleSlide.removeClass('selected from-left from-right').addClass('is-moving').one('webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend', function(){\r\n\t\t\tvisibleSlide.removeClass('is-moving');\r\n\t\t});\r\n\r\n\t\tcontainer.children('li').eq(n).addClass('selected from-right').prevAll().addClass('move-left');\r\n\t\tcheckVideo(visibleSlide, container, n);\r\n\t}\r\n\r\n\tfunction prevSlide(visibleSlide, container, pagination, n){\r\n\t\tvisibleSlide.removeClass('selected from-left from-right').addClass('is-moving').one('webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend', function(){\r\n\t\t\tvisibleSlide.removeClass('is-moving');\r\n\t\t});\r\n\r\n\t\tcontainer.children('li').eq(n).addClass('selected from-left').removeClass('move-left').nextAll().removeClass('move-left');\r\n\t\tcheckVideo(visibleSlide, container, n);\r\n\t}\r\n\r\n\tfunction updateSliderNavigation(pagination, n) {\r\n\t\tvar navigationDot = pagination.find('.selected');\r\n\t\tnavigationDot.removeClass('selected');\r\n\t\tpagination.find('li').eq(n).addClass('selected');\r\n\t}\r\n\r\n\tfunction setAutoplay(wrapper, length, delay) {\r\n\t\tif(wrapper.hasClass('autoplay')) {\r\n\t\t\tclearInterval(autoPlayId);\r\n\t\t\tautoPlayId = window.setInterval(function(){autoplaySlider(length)}, delay);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction autoplaySlider(length) {\r\n\t\tif( visibleSlidePosition < length - 1) {\r\n\t\t\tnextSlide(slidesWrapper.find('.selected'), slidesWrapper, sliderNav, visibleSlidePosition + 1);\r\n\t\t\tvisibleSlidePosition +=1;\r\n\t\t} else {\r\n\t\t\tprevSlide(slidesWrapper.find('.selected'), slidesWrapper, sliderNav, 0);\r\n\t\t\tvisibleSlidePosition = 0;\r\n\t\t}\r\n\t\tupdateNavigationMarker(navigationMarker, visibleSlidePosition+1);\r\n\t\tupdateSliderNavigation(sliderNav, visibleSlidePosition);\r\n\t}\r\n\r\n\tfunction uploadVideo(container) {\r\n\t\tcontainer.find('.cd-bg-video-wrapper').each(function(){\r\n\t\t\tvar videoWrapper = $(this);\r\n\t\t\tif( videoWrapper.is(':visible') ) {\r\n\t\t\t\t// if visible - we are not on a mobile device \r\n\t\t\t\tvar\tvideoUrl = videoWrapper.data('video'),\r\n\t\t\t\t\tvideo = $('<video loop muted><source src=\"'+videoUrl+'.mp4\" type=\"video/mp4\" /><source src=\"'+videoUrl+'.webm\" type=\"video/webm\" /></video>');\r\n\t\t\t\tvideo.appendTo(videoWrapper);\r\n\t\t\t\t// play video if first slide\r\n\t\t\t\tif(videoWrapper.parent('.cd-bg-video.selected').length > 0) video.get(0).play();\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tfunction checkVideo(hiddenSlide, container, n) {\r\n\t\t//check if a video outside the viewport is playing - if yes, pause it\r\n\t\tvar hiddenVideo = hiddenSlide.find('video');\r\n\t\tif( hiddenVideo.length > 0 ) hiddenVideo.get(0).pause();\r\n\r\n\t\t//check if the select slide contains a video element - if yes, play the video\r\n\t\tvar visibleVideo = container.children('li').eq(n).find('video');\r\n\t\tif( visibleVideo.length > 0 ) visibleVideo.get(0).play();\r\n\t}\r\n\r\n\tfunction updateNavigationMarker(marker, n) {\r\n\t\tmarker.removeClassPrefix('item').addClass('item-'+n);\r\n\t}\r\n\r\n\t$.fn.removeClassPrefix = function(prefix) {\r\n\t\t//remove all classes starting with 'prefix'\r\n\t    this.each(function(i, el) {\r\n\t        var classes = el.className.split(\" \").filter(function(c) {\r\n\t            return c.lastIndexOf(prefix, 0) !== 0;\r\n\t        });\r\n\t        el.className = $.trim(classes.join(\" \"));\r\n\t    });\r\n\t    return this;\r\n\t};\r\n});"],"sourceRoot":"/source/"}