{"version":3,"sources":["stripe-billing.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"stripe-billing.js","sourcesContent":["(function() {\r\n    var StripeBilling = {\r\n        init: function() {\r\n           this.form = $('#billing-form');\r\n           this.submitButton = this.form.find('button[type=submit]');\r\n           this.submitButtonValue = this.submitButton.val();\r\n           this.form.find('.payment-errors').hide();\r\n\r\n           var stripeKey = $('meta[name=\"publishable-key\"]').attr('content');\r\n\r\n           Stripe.setPublishableKey(stripeKey);\r\n\r\n           this.bindEvents();\r\n        },\r\n\r\n        bindEvents: function() {\r\n            this.form.on('submit', $.proxy(this.sendToken, this));\r\n        },\r\n\r\n        sendToken: function(event) {\r\n\r\n            this.submitButton.hide();\r\n\r\n            this.form.find('.progress').show();\r\n\r\n            Stripe.createToken(this.form, $.proxy(this.stripeResponseHandler, this));\r\n\r\n            event.preventDefault();\r\n        },\r\n\r\n        stripeResponseHandler: function(status, response) {\r\n            if (response.error) {\r\n                \r\n                this.form.find('.payment-errors').show().text(response.error.message);\r\n\r\n                this.form.find('.progress').hide();\r\n\r\n                return this.submitButton.show();\r\n            \r\n            }\r\n\r\n            $('<input>', {\r\n                type: 'hidden',\r\n                name: 'token',\r\n                value: response.id\r\n            }).appendTo(this.form);\r\n\r\n            this.form[0].submit();\r\n        }\r\n    };\r\n\r\n    StripeBilling.init();\r\n})();"],"sourceRoot":"/source/"}